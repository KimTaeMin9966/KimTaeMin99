<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC
	"-//mybatis.org/DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="net.koreate.dao.CompanyDao">
	<select id="notificationsGetMethod" resultType="bdvo">
		SELECT * FROM CompanyBoard WHERE types = #{types}
		LIMIT #{cri.pageStart}, #{cri.perPageNum}
	</select>
	<insert id="writeSubmitPostMethod">
		INSERT INTO CompanyBoard(types, title, content, writer)
		VALUES(#{types}, #{title}, #{content}, #{writer})
	</insert>
	<select id="notificationsCount" resultType="int">
		<![CDATA[
			SELECT COUNT(*) FROM CompanyBoard WHERE types="notification"
		]]>
	</select>
	<update id="updateCnt">
		UPDATE CompanyBoard SET viewcnt = viewcnt + 1 WHERE bno = #{bno}
	</update>
	<select id="notificationsReadPageGetMethod" resultType="bdvo">
		SELECT * FROM CompanyBoard WHERE bno = #{bno}
	</select>
	<select id="notificationsEditPageGetMethod" resultType="bdvo">
		SELECT * FROM CompanyBoard WHERE bno = #{bno}
	</select>
	<update id="notificationsEditPagePostMethod">
		UPDATE CompanyBoard SET title = #{title}, content = #{content}
		WHERE bno = #{bno}
	</update>
	<delete id="notificationsDeletePageGetMethod">
		DELETE FROM CompanyBoard WHERE bno = #{bno}
	</delete>
</mapper>